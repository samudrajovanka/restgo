!function(r){function n(n){for(var t,o,s=n[0],u=n[1],c=n[2],d=0,l=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(r[t]=u[t]);for(p&&p(n);l.length;)l.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var r,n=0;n<i.length;n++){for(var e=i[n],t=!0,s=1;s<e.length;s++){var u=e[s];0!==a[u]&&(t=!1)}t&&(i.splice(n--,1),r=o(o.s=e[0]))}return r}var t={},a={2:0},i=[];function o(n){if(t[n])return t[n].exports;var e=t[n]={i:n,l:!1,exports:{}};return r[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=r,o.c=t,o.d=function(r,n,e){o.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:e})},o.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},o.t=function(r,n){if(1&n&&(r=o(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var t in r)o.d(e,t,function(n){return r[n]}.bind(null,t));return e},o.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return o.d(n,"a",n),n},o.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},o.p="";var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var p=u;i.push([12,1,0]),e()}([,,,,,,,function(r,n,e){var t=e(2),a=e(8);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[r.i,a,""]]);var i={insert:"head",singleton:!1};t(a,i);r.exports=a.locals||{}},function(r,n,e){(n=e(3)(!1)).push([r.i,":root {\r\n  --primary: #FF7800;\r\n  --primary-dark: #e96d00;\r\n  --gray: #c2c2c2;\r\n}\r\n\r\n* {\r\n  padding: 0;\r\n  margin: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  font-family: 'Poppins', sans-serif;\r\n  background-color: white;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\na {\r\n  text-decoration: none;\r\n}\r\n\r\n/*\r\n  Skip to content\r\n*/\r\n.skip-to-content {\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n  z-index: 100;\r\n  padding: 12px 16px;\r\n  font-size: 1rem;\r\n  color: var(--primary);\r\n  background-color: #FFFFFF;\r\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);\r\n  transform: translate(0, -100px);\r\n  transition: transform 0.3s ease-in-out;\r\n}\r\n\r\n.skip-to-content:focus {\r\n  transform: translate(0, 0px);\r\n}\r\n\r\n/* \r\n  Loading\r\n */\r\n\r\n.lds-ring {\r\n  display: inline-block;\r\n  position: fixed;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 80px;\r\n  height: 80px;\r\n}\r\n.lds-ring div {\r\n  box-sizing: border-box;\r\n  display: block;\r\n  position: absolute;\r\n  width: 64px;\r\n  height: 64px;\r\n  margin: 8px;\r\n  border: 8px solid var(--primary);\r\n  border-radius: 50%;\r\n  animation: lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\r\n  border-color: var(--primary) transparent transparent transparent;\r\n}\r\n.lds-ring div:nth-child(1) {\r\n  animation-delay: -0.45s;\r\n}\r\n.lds-ring div:nth-child(2) {\r\n  animation-delay: -0.3s;\r\n}\r\n.lds-ring div:nth-child(3) {\r\n  animation-delay: -0.15s;\r\n}\r\n@keyframes lds-ring {\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n/* \r\n  Error\r\n*/\r\n\r\n#error {\r\n  text-align: center;\r\n}\r\n\r\n#error > p {\r\n  margin-bottom: 8px;\r\n}\r\n\r\n/*\r\n  AppBar\r\n*/\r\n\r\n.app-bar {\r\n  padding: 8px 16px;\r\n  background-color: var(--primary);\r\n  display: grid;\r\n  grid-template-columns: auto 1fr auto;\r\n  gap: 10px;\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 99;\r\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.app-bar .app-bar__menu {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__menu button {\r\n  background-color: transparent;\r\n  border: none;\r\n  font-size: 18px;\r\n  padding: 8px;\r\n  cursor: pointer;\r\n  color: #FFFFFF;\r\n}\r\n\r\n.app-bar .app-bar__menu .app-bar__toggle {\r\n  color: #FFFFFF;\r\n  font-size: 1.5rem;\r\n  min-width: 44px;\r\n  min-height: 44px;\r\n  text-align: center;\r\n  line-height: 44px;\r\n}\r\n\r\n.app-bar .app-bar__brand {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.app-bar .app-bar__brand h1 {\r\n  color: #FFFFFF;\r\n  text-transform: uppercase;\r\n  font-size: 20px;\r\n  user-select: none;\r\n}\r\n\r\n.app-bar .app-bar__navigation {\r\n  position: absolute;\r\n  top: 55px;\r\n  left: 0;\r\n  min-width: 150px;\r\n  transition: all 0.3s;\r\n  padding: 8px;\r\n  background-color: white;\r\n  overflow: hidden;\r\n  transform: scaleY(0);\r\n  transform-origin: top;\r\n}\r\n\r\n.app-bar .app-bar__navigation.open {\r\n  transform: scaleY(100%);\r\n}\r\n\r\n.app-bar .app-bar__navigation ul li a {\r\n  display: inline-block;\r\n  text-decoration: none;\r\n  color: black;\r\n  padding: 8px;\r\n  width: 100%;\r\n  min-height: 44px;\r\n}\r\n\r\n/*\r\n  Hero\r\n */\r\n\r\n.hero {\r\n  height: 300px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.hero .jumbotron {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 0 0 8px 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n/*\r\n  Main Content\r\n*/\r\n\r\nmain {\r\n  padding: 32px;\r\n  flex: 1;\r\n}\r\n\r\n.content {\r\n  margin: 0 auto;\r\n  min-height: 100%;\r\n}\r\n\r\n.content .content__heading {\r\n  font-weight: normal;\r\n}\r\n\r\n/* \r\n  Restaurants\r\n*/\r\n\r\n.restaurants {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 16px;\r\n  margin: 32px 0;\r\n}\r\n\r\n/* \r\n  Restaurant Item\r\n*/\r\n\r\n.restaurant-item {\r\n  width: 100%;\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n\r\n.restaurant-item__header {\r\n  position: relative;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__poster {\r\n  width: 100%;\r\n  aspect-ratio: 16/9;\r\n  object-fit: cover;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__rating {\r\n  position: absolute;\r\n  padding: 8px;\r\n  top: 5px;\r\n  left: 5px;\r\n  display: inline-block;\r\n  background-color: white;\r\n  color: var(--primary);\r\n  border-radius: 5px;\r\n}\r\n\r\n.restaurant-item .restaurant-item__header .restaurant-item__header__rating .restaurant-item__header__rating__score {\r\n  margin-left: 10px;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content {\r\n  padding: 16px;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content h3 {\r\n  margin: 0 0 10px 0;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content h3 a {\r\n  color: var(--primary);\r\n  text-decoration: none;\r\n  min-height: 44px;\r\n  min-width: 44px;\r\n  display: inline-block;\r\n}\r\n\r\n.restaurant-item .restaurant-item__content p {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3; /* number of lines to show */\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n\r\n/*\r\n  Restaurant\r\n*/\r\n\r\n.restaurant {\r\n  margin: 0 auto;\r\n  width: 100%;\r\n  max-width: 800px;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 18px 16px;\r\n}\r\n\r\n.restaurant .restaurant__poster {\r\n  max-width: 100%;\r\n  aspect-ratio: 16/9;\r\n  object-fit: cover;\r\n  border-radius: 1em;\r\n  overflow: hidden;\r\n}\r\n\r\n.restaurant .restaurant__info {\r\n  min-width: 200px;\r\n}\r\n\r\n.restaurant .restaurant__info h4 {\r\n  margin: 8px 0;\r\n}\r\n\r\n.restaurant .restaurant__info .restaurant__categories {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.restaurant .restaurant__info .restaurant__categories .restaurant__categories__item {\r\n  background-color: var(--primary);\r\n  color: white;\r\n  padding: 8px 12px;\r\n  border-radius: 30px;\r\n}\r\n\r\n.restaurant .restaurant__data {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 18px;\r\n  width: 100%;\r\n}\r\n\r\n.restaurant .restaurant__menus {\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  gap: 16px;\r\n}\r\n\r\n.restaurant .restaurant__menus .restaurant__menu {\r\n  padding: 16px 12px;\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 8px;\r\n}\r\n\r\n.restaurant .restaurant__menus .restaurant__menu h3 {\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.restaurant .restaurant__menus .restaurant__menu ul li {\r\n  margin-left: 16px;\r\n}\r\n\r\n.restaurant__reviews .restaurant__reviews__item {\r\n  list-style-type: none;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid var(--gray);\r\n}\r\n\r\n.restaurant__reviews .restaurant__reviews__item:not(:last-child) {\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.restaurant__reviews .restaurant__reviews__item .review__data {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: .8em;\r\n  color: #575757;\r\n  gap: 4px;\r\n}\r\n\r\n.restaurant .restaurant__reviews__item .review__message {\r\n  overflow-wrap: break-word;\r\n  hyphens: auto;\r\n}\r\n\r\n.restaurant__reviews .restaurant__reviews__item .review__name::after {\r\n  content: \"●\";\r\n  font-size: 8px;\r\n  margin-left: 4px;\r\n}\r\n\r\n.restaurant__reviews .restaurant__review__form {\r\n  width: 100%;\r\n  border: 1px dashed black;\r\n  border-radius: 5px;\r\n  padding: 8px;\r\n  margin: 8px 0 24px;\r\n}\r\n\r\n.form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 8px;\r\n}\r\n\r\n.form .form__group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 4px;\r\n}\r\n\r\n.form .form__control {\r\n  padding: 10px 8px;\r\n  border-radius: 5px;\r\n  min-height: 44px;\r\n  border: 1px solid var(--gray);\r\n}\r\n\r\n.form .form__control::placeholder {\r\n  color: var(--gray);\r\n}\r\n\r\n.form .form__control.form__control--area {\r\n  resize: vertical;\r\n}\r\n\r\n.btn {\r\n  display: inline-block;\r\n  min-height: 44px;\r\n  padding: 8px 12px;\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n  transition: background-color .2s ease-in-out;\r\n}\r\n\r\n.btn.btn--primary {\r\n  background-color: var(--primary);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n}\r\n\r\n.btn.btn--primary:hover {\r\n  background-color: var(--primary-dark);\r\n}\r\n\r\n/*\r\n  Footer\r\n*/\r\n\r\nfooter {\r\n  padding: 16px;\r\n}\r\n\r\nfooter p {\r\n  text-align: center;\r\n  color: #aaaaaa;\r\n}\r\n\r\nfooter p a {\r\n  color: var(--primary);\r\n  text-decoration: none;\r\n  min-height: 44px;\r\n  display: inline-block;\r\n}\r\n\r\n/*\r\n  Favorite\r\n*/\r\n.favorite {\r\n  font-size: 18px;\r\n  position: fixed;\r\n  bottom: 16px;\r\n  right: 16px;\r\n  background-color: var(--primary);\r\n  color: white;\r\n  border: 0;\r\n  border-radius: 50%;\r\n  width: 55px;\r\n  height: 55px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}",""]),r.exports=n},function(r,n,e){var t=e(2),a=e(10);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[r.i,a,""]]);var i={insert:"head",singleton:!1};t(a,i);r.exports=a.locals||{}},function(r,n,e){(n=e(3)(!1)).push([r.i,"@media screen and (min-width: 640px) {\r\n  .restaurants {\r\n    grid-template-columns: 1fr 1fr;\r\n  }\r\n\r\n  .restaurant {\r\n    grid-template-columns: auto 1fr;\r\n  }\r\n\r\n  .restaurant .restaurant__name {\r\n    grid-column-start: 1;\r\n    grid-column-end: 3;\r\n  }\r\n\r\n  .restaurant .restaurant__info {\r\n    grid-row: span 2 / span 2;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 768px) {\r\n  .app-bar {\r\n    grid-template-columns: 1fr auto;\r\n    padding: 8px 32px;\r\n  }\r\n\r\n  .app-bar .app-bar__brand h1 {\r\n    font-size: 1.5em;\r\n  }\r\n\r\n  .app-bar .app-bar__menu {\r\n    display: none;\r\n  }\r\n\r\n  .app-bar .app-bar__navigation {\r\n    position: static;\r\n    width: 100%;\r\n    transform: scaleX(100%);\r\n    background-color: transparent;\r\n  }\r\n\r\n  .app-bar .app-bar__navigation ul li {\r\n    display: inline-block;\r\n  }\r\n\r\n  .app-bar .app-bar__navigation ul li a {\r\n    display: inline-block;\r\n    width: 120px;\r\n    text-align: center;\r\n    margin: 0;\r\n    color: #FFFFFF;\r\n  }\r\n\r\n  .hero {\r\n    height: 400px;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 850px) {\r\n  .restaurants {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  .restaurant .restaurant__menus {\r\n    grid-template-columns: 1fr 1fr;\r\n    align-items: flex-start;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 1200px) {\r\n  .restaurants {\r\n    grid-template-columns: repeat(4, 1fr);\r\n  }\r\n\r\n  .hero {\r\n    min-width: 1000px;\r\n    height: 500px;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 1600px) {\r\n  .restaurants {\r\n    grid-template-columns: repeat(5, 1fr);\r\n  }\r\n}",""]),r.exports=n},,function(r,n,e){"use strict";e.r(n);e(6),e(7),e(9);var t={init:function(r){var n=this,e=r.button,t=r.drawer,a=r.content;e.addEventListener("click",(function(r){n._toggleDrawer(r,t),r.preventDefault()})),a.addEventListener("click",(function(r){n._closeDrawer(r,t)}))},_toggleDrawer:function(r,n){r.stopPropagation(),n.classList.toggle("open")},_closeDrawer:function(r,n){r.stopPropagation(),n.classList.remove("open")}},a={parseActiveUrlWithCombiner:function(){var r=window.location.hash.slice(1).toLowerCase(),n=this._urlSplitter(r);return this._urlCombiner(n)},parseActiveUrlWithoutCombiner:function(){var r=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(r)},_urlSplitter:function(r){var n=r.split("/");return{resource:n[1]||null,id:n[2]||null,verb:n[3]||null}},_urlCombiner:function(r){return(r.resource?"/".concat(r.resource):"/")+(r.id?"/:id":"")+(r.verb?"/".concat(r.verb):"")}},i={KEY:"7078a15c1cf9130493f861e835972c91",BASE_URL:"https://restaurant-api.dicoding.dev/",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images/medium/",DEFAULT_LANGUAGE:"en-us",CACHE_NAME:"RestGo-V1.0",DATABASE_NAME:"restaurant-catalogue-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurants"},o={LIST:"".concat(i.BASE_URL,"list"),DETAIL:function(r){return"".concat(i.BASE_URL,"detail/").concat(r)},REVIEW:"".concat(i.BASE_URL,"review")};function s(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function u(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){s(i,t,a,o,u,"next",r)}function u(r){s(i,t,a,o,u,"throw",r)}o(void 0)}))}}function c(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var p=function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,e,t,a,i,s;return n=r,e=null,t=[{key:"list",value:(s=u(regeneratorRuntime.mark((function r(){var n,e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(o.LIST);case 2:return n=r.sent,r.next=5,n.json();case 5:return e=r.sent,r.abrupt("return",e.restaurants);case 7:case"end":return r.stop()}}),r)}))),function(){return s.apply(this,arguments)})},{key:"detailRestaurant",value:(i=u(regeneratorRuntime.mark((function r(n){var e,t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(o.DETAIL(n));case 2:return e=r.sent,r.next=5,e.json();case 5:return t=r.sent,r.abrupt("return",t.restaurant);case 7:case"end":return r.stop()}}),r)}))),function(r){return i.apply(this,arguments)})},{key:"reviewRestaurant",value:(a=u(regeneratorRuntime.mark((function r(n,e,t){var a,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch(o.REVIEW,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,name:e,review:t})});case 2:return a=r.sent,r.next=5,a.json();case 5:return i=r.sent,r.abrupt("return",i);case 7:case"end":return r.stop()}}),r)}))),function(r,n,e){return a.apply(this,arguments)})}],e&&c(n.prototype,e),t&&c(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}(),d=function(r){return'\n  <div class="restaurant-item">\n    <div class="restaurant-item__header">\n        <img class="restaurant-item__header__poster lazyload" alt="'.concat(r.name||"-",'"\n            data-src="').concat(i.BASE_IMAGE_URL+r.pictureId,'">\n        <div class="restaurant-item__header__rating">\n            <p>⭐<span class="restaurant-item__header__rating__score">').concat(r.rating||"-",'</span></p>\n        </div>\n    </div>\n    <div class="restaurant-item__content">\n        <h3 class="restaurant__name"><a href="',"/#/detail/".concat(r.id),'">').concat(r.name||"-","</a></h3>\n        <p>").concat(r.description||"-","</p>\n    </div>\n  </div>\n  ")},l=function(r){return'\n  <h2 class="restaurant__name">'.concat(r.name,'</h2>\n  <img class="restaurant__poster lazyload" data-src="').concat(i.BASE_IMAGE_URL+r.pictureId,'" alt="').concat(r.name,'" />\n  <div class="restaurant__info">\n    <div class="restaurant__categories">\n      ').concat(r.categories.map((function(r){return'<div class="restaurant__categories__item"><p>'.concat(r.name,"</p></div>")})).join(""),"\n    </div>\n    <h3>Information</h3>\n    <h4>Rating</h4>\n    <p>⭐").concat(r.rating,"</p>\n\n    <h4>Address</h4>\n    <p>").concat(r.address,", ").concat(r.city,"</p>\n\n    <h4>Total Menu</h4>\n    <p>").concat(r.menus.foods.length," food & ").concat(r.menus.drinks.length,' drink</p>\n  </div>\n\n  <div class="restaurant__data">\n    <div class="restaurant__description">\n      <h3>Description</h3>\n      <p>').concat(r.description,'</p>\n    </div>\n\n    <div class="restaurant__menus">\n      <div class="restaurant__menu">\n        <h3>Foods</h3>\n        <ul>\n          ').concat(r.menus.foods.map((function(r){return"<li>".concat(r.name,"</li>")})).join(""),'\n        </ul>\n      </div>\n\n      <div class="restaurant__menu">\n        <h3>Drinks</h3>\n        <ul>\n          ').concat(r.menus.drinks.map((function(r){return"<li>".concat(r.name,"</li>")})).join(""),'\n        </ul>\n      </div>\n    </div>\n\n    <div class="restaurant__reviews">\n      <h3>Reviews</h3>\n\n      <div id="restaurantReviewForm" class="restaurant__review__form">\n      </div>\n\n      <ul id="restaurantReviewsContainer">\n      </ul>\n    </div>\n  </div>\n')},f=function(r){return'<li class="restaurant__reviews__item">\n  <div class="review__data">\n    <p class="review__name">'.concat(r.name,'</p>\n    <p class="review__date">').concat(r.date,'</p>\n  </div>\n  <p class="review__message">').concat(r.review,"</p>\n</li>")},v={init:function(r){var n=r.loadingContainer;this._loadingContainer=n,this._renderLoading()},_renderLoading:function(){this._loadingContainer.innerHTML='\n  <div class="lds-ring"><div></div><div></div><div></div><div>\n'},finish:function(){this._loadingContainer.innerHTML=""}};function m(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function h(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){m(i,t,a,o,s,"next",r)}function s(r){m(i,t,a,o,s,"throw",r)}o(void 0)}))}}var _={render:function(){return h(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",'\n      <div class="content">\n        <h2 class="content__heading">Restaurant List</h2>\n        <div id="restaurants" class="restaurants">\n  \n        </div>\n      </div>\n    ');case 1:case"end":return r.stop()}}),r)})))()},afterRender:function(){return h(regeneratorRuntime.mark((function r(){var n,e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=document.querySelector("#restaurants"),v.init({loadingContainer:n}),r.next=4,p.list();case 4:e=r.sent,v.finish(),e.forEach((function(r){n.innerHTML+=d(r)}));case 7:case"end":return r.stop()}}),r)})))()}};function g(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function w(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){g(i,t,a,o,s,"next",r)}function s(r){g(i,t,a,o,s,"throw",r)}o(void 0)}))}}var b={init:function(r){var n=this;return w(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.favoriteButtonContainer,a=r.favoriteRestaurants,i=r.restaurant,n._favoriteButtonContainer=t,n._restaurant=i,n._favoriteRestaurants=a,e.next=6,n._renderButton();case 6:case"end":return e.stop()}}),e)})))()},_renderButton:function(){var r=this;return w(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r._restaurant.id,n.next=3,r._isRestaurantExist(e);case 3:if(!n.sent){n.next=7;break}r._renderFavorited(),n.next=8;break;case 7:r._renderFavorite();case 8:case"end":return n.stop()}}),n)})))()},_isRestaurantExist:function(r){var n=this;return w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._favoriteRestaurants.getRestaurant(r);case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}}),e)})))()},_renderFavorite:function(){var r=this;this._favoriteButtonContainer.innerHTML='\n  <button aria-label="favorite this restaurant" id="favoriteButton" class="favorite">\n    <i class="fa fa-heart-o" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#favoriteButton").addEventListener("click",w(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r._favoriteRestaurants.putRestaurant(r._restaurant);case 2:r._renderButton();case 3:case"end":return n.stop()}}),n)}))))},_renderFavorited:function(){var r=this;this._favoriteButtonContainer.innerHTML='\n  <button aria-label="unfavorite this restaurant" id="favoriteButton" class="favorite">\n    <i class="fa fa-heart" aria-hidden="true"></i>\n  </button>\n',document.querySelector("#favoriteButton").addEventListener("click",w(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r._favoriteRestaurants.deleteRestaurant(r._restaurant.id);case 2:r._renderButton();case 3:case"end":return n.stop()}}),n)}))))}};function x(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function y(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){x(i,t,a,o,s,"next",r)}function s(r){x(i,t,a,o,s,"throw",r)}o(void 0)}))}}var R={init:function(r){var n=this;return y(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.formReviewContainer,a=r.reviewsContainer,i=r.idRestaurant,n._formReviewContainer=t,n._reviewsContainer=a,e.next=5,n._render();case 5:n._idRestaurant=i;case 6:case"end":return e.stop()}}),e)})))()},_addNewReview:function(r){var n=r.name,e=r.message,t=new Date,a="".concat(t.getDate()," ").concat(["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()]," ").concat(t.getFullYear());this._reviewsContainer.innerHTML+=f({name:n,review:e,date:a})},_render:function(){var r=this;return y(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r._formReviewContainer.innerHTML='\n  <form id="formReview" class="form">\n    <div class="form__group">\n      <label for="reviewName">Name</label>\n      <input type="text" class="form__control" id="reviewName" placeholder="Your name" name="name">\n    </div>\n    <div class="form__group">\n      <label for="reviewMessage">Message</label>\n      <textarea type="text" class="form__control form__control--area" id="reviewMessage" placeholder="Your review" name="review"></textarea>\n    </div>\n\n    <button type="submit" aria-label="button submit form review" class="btn btn--primary">Send Review</button>\n  </form>\n',(e=document.querySelector("#formReview")).addEventListener("submit",function(){var n=y(regeneratorRuntime.mark((function n(t){var a,i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a=new FormData(e),i=a.get("name"),o=a.get("review"),n.next=6,p.reviewRestaurant(r._idRestaurant,i,o);case 6:n.sent.error?alert("Added review failed, try again"):(alert("Review added"),r._addNewReview({name:i,message:o}),e.reset());case 8:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}());case 3:case"end":return n.stop()}}),n)})))()}},k=e(5);function E(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function F(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){E(i,t,a,o,s,"next",r)}function s(r){E(i,t,a,o,s,"throw",r)}o(void 0)}))}}var S=i.DATABASE_NAME,C=i.DATABASE_VERSION,P=i.OBJECT_STORE_NAME,A=Object(k.a)(S,C,{upgrade:function(r){r.createObjectStore(P,{keyPath:"id"})}}),L={getRestaurant:function(r){return F(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,A;case 4:return n.abrupt("return",n.sent.get(P,r));case 5:case"end":return n.stop()}}),n)})))()},getAllRestaurants:function(){return F(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A;case 2:return r.abrupt("return",r.sent.getAll(P));case 3:case"end":return r.stop()}}),r)})))()},putRestaurant:function(r){return F(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Object.prototype.hasOwnProperty.call(r,"id")){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,A;case 4:return n.abrupt("return",n.sent.put(P,r));case 5:case"end":return n.stop()}}),n)})))()},deleteRestaurant:function(r){return F(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A;case 2:return n.abrupt("return",n.sent.delete(P,r));case 3:case"end":return n.stop()}}),n)})))()},searchRestaurants:function(r){var n=this;return F(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAllRestaurants();case 2:return e.abrupt("return",e.sent.filter((function(n){var e=(n.name||"-").toLowerCase().replace(/\s/g,""),t=r.toLowerCase().replace(/\s/g,"");return-1!==e.indexOf(t)})));case 3:case"end":return e.stop()}}),e)})))()}};function T(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function B(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){T(i,t,a,o,s,"next",r)}function s(r){T(i,t,a,o,s,"throw",r)}o(void 0)}))}}var O={init:function(r){var n=this;return B(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.reviewsContainer,a=r.reviews,n._reviewsContainer=t,n._reviews=a,e.next=5,n._render();case 5:case"end":return e.stop()}}),e)})))()},_render:function(){var r=this;return B(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r._reviews.forEach((function(r){e+=f(r)})),r._reviewsContainer.innerHTML=e;case 2:case"end":return n.stop()}}),n)})))()}};function j(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function M(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){j(i,t,a,o,s,"next",r)}function s(r){j(i,t,a,o,s,"throw",r)}o(void 0)}))}}var I={render:function(){return M(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",'\n      <div id="restaurant" class="restaurant"></div>\n      <div id="favoriteButtonContainer"></div>\n    ');case 1:case"end":return r.stop()}}),r)})))()},afterRender:function(){return M(regeneratorRuntime.mark((function r(){var n,e,t,i;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=document.querySelector("#restaurant"),v.init({loadingContainer:n}),e=a.parseActiveUrlWithoutCombiner(),r.next=5,p.detailRestaurant(e.id);case 5:t=r.sent,v.finish(),n.innerHTML=l(t),b.init({favoriteButtonContainer:document.querySelector("#favoriteButtonContainer"),favoriteRestaurants:L,restaurant:{id:t.id,name:t.name,description:t.description,pictureId:t.pictureId,rating:t.rating}}),i=document.querySelector("#restaurantReviewsContainer"),R.init({formReviewContainer:document.querySelector("#restaurantReviewForm"),reviewsContainer:i,idRestaurant:t.id}),O.init({reviewsContainer:i,reviews:t.customerReviews});case 12:case"end":return r.stop()}}),r)})))()}};function D(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function q(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var z=function(){function r(n){var e=n.favoriteRestaurants,t=n.view;!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this._view=t,this._listenToSearchRequestByUser(),this._favoriteRestaurants=e}var n,e,t,a,i;return n=r,(e=[{key:"_listenToSearchRequestByUser",value:function(){var r=this;this._view.runWhenUserIsSearching((function(n){r._searchRestaurants(n)}))}},{key:"_searchRestaurants",value:(a=regeneratorRuntime.mark((function r(n){var e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this._latestQuery=n.trim(),!(this.latestQuery.length>0)){r.next=7;break}return r.next=4,this._favoriteRestaurants.searchRestaurants(this.latestQuery);case 4:e=r.sent,r.next=10;break;case 7:return r.next=9,this._favoriteRestaurants.getAllRestaurants();case 9:e=r.sent;case 10:this._showFoundRestaurants(e);case 11:case"end":return r.stop()}}),r,this)})),i=function(){var r=this,n=arguments;return new Promise((function(e,t){var i=a.apply(r,n);function o(r){D(i,e,t,o,s,"next",r)}function s(r){D(i,e,t,o,s,"throw",r)}o(void 0)}))},function(r){return i.apply(this,arguments)})},{key:"latestQuery",get:function(){return this._latestQuery}},{key:"_showFoundRestaurants",value:function(r){this._view.showRestaurants(r)}}])&&q(n.prototype,e),t&&q(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}();function U(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function N(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var H=function(){function r(n){var e=n.view,t=n.favoriteRestaurants;!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this._view=e,this._favoriteRestaurants=t,this._showFavoriteRestaurants()}var n,e,t,a,i;return n=r,(e=[{key:"_showFavoriteRestaurants",value:(a=regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this._favoriteRestaurants.getAllRestaurants();case 2:n=r.sent,this._displayRestaurants(n);case 4:case"end":return r.stop()}}),r,this)})),i=function(){var r=this,n=arguments;return new Promise((function(e,t){var i=a.apply(r,n);function o(r){U(i,e,t,o,s,"next",r)}function s(r){U(i,e,t,o,s,"throw",r)}o(void 0)}))},function(){return i.apply(this,arguments)})},{key:"_displayRestaurants",value:function(r){this._view.showFavoriteRestaurants(r)}}])&&N(n.prototype,e),t&&N(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}();function W(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function J(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function G(r){return function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){J(i,t,a,o,s,"next",r)}function s(r){J(i,t,a,o,s,"throw",r)}o(void 0)}))}}var Y=new(function(){function r(){!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r)}var n,e,t;return n=r,(e=[{key:"getTemplate",value:function(){return'\n      <div class="content">\n      <input id="query" type="text">\n      <h2 class="content__heading">Your Favorited Restaurants</h2>\n        <div id="restaurants" class="restaurants">\n        </div>\n      </div>\n  '}},{key:"runWhenUserIsSearching",value:function(r){document.getElementById("query").addEventListener("change",(function(n){r(n.target.value)}))}},{key:"showRestaurants",value:function(r){this.showFavoriteRestaurants(r)}},{key:"showFavoriteRestaurants",value:function(){var r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r=n.length?n.reduce((function(r,n){return r.concat(d(n))}),""):this._getEmptyRestaurantTemplate(),document.getElementById("restaurants").innerHTML=r,document.getElementById("restaurants").dispatchEvent(new Event("restaurants:updated"))}},{key:"_getEmptyRestaurantTemplate",value:function(){return'<div class="restaurant-item__not__found restaurants__not__found">No restaurant to show</div>'}}])&&W(n.prototype,e),t&&W(n,t),Object.defineProperty(n,"prototype",{writable:!1}),r}()),Q={"/":_,"/list":_,"/detail/:id":I,"/favorite":{render:function(){return G(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Y.getTemplate());case 1:case"end":return r.stop()}}),r)})))()},afterRender:function(){return G(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=document.querySelector("#restaurants"),v.init({loadingContainer:n}),new H({view:Y,favoriteRestaurants:L}),new z({view:Y,favoriteRestaurants:L}),v.finish();case 5:case"end":return r.stop()}}),r)})))()}}},V={render:function(){return'\n      <div id="error" class="error">\n        <p>There is something wrong</p>\n        <a href="/" class="btn btn--primary">Go Home</a>\n      </div>\n    '}};function X(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}function K(r,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var Z=function(){function r(n){var e=n.button,t=n.drawer,a=n.content;!function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this._button=e,this._drawer=t,this._content=a,this._initialAppShell()}var n,e,i,o,s;return n=r,(e=[{key:"_initialAppShell",value:function(){t.init({button:this._button,drawer:this._drawer,content:this._content})}},{key:"renderPage",value:(o=regeneratorRuntime.mark((function r(){var n,e;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.parseActiveUrlWithCombiner(),e=Q[n],document.querySelector(".skip-to-content").addEventListener("click",(function(r){r.preventDefault(),document.querySelector("#mainContent").focus()})),r.prev=4,r.next=7,e.render();case 7:return this._content.innerHTML=r.sent,r.next=10,e.afterRender();case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),this._content.innerHTML=V.render();case 15:case"end":return r.stop()}}),r,this,[[4,12]])})),s=function(){var r=this,n=arguments;return new Promise((function(e,t){var a=o.apply(r,n);function i(r){X(a,e,t,i,s,"next",r)}function s(r){X(a,e,t,i,s,"throw",r)}i(void 0)}))},function(){return s.apply(this,arguments)})}])&&K(n.prototype,e),i&&K(n,i),Object.defineProperty(n,"prototype",{writable:!1}),r}(),$=e(4),rr=e.n($);function nr(r,n,e,t,a,i,o){try{var s=r[i](o),u=s.value}catch(r){return void e(r)}s.done?n(u):Promise.resolve(u).then(t,a)}var er=function(){var r,n=(r=regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!("serviceWorker"in navigator)){r.next=4;break}return r.next=3,rr.a.register();case 3:return r.abrupt("return");case 4:console.log("Service worker not supported in this browser");case 5:case"end":return r.stop()}}),r)})),function(){var n=this,e=arguments;return new Promise((function(t,a){var i=r.apply(n,e);function o(r){nr(i,t,a,o,s,"next",r)}function s(r){nr(i,t,a,o,s,"throw",r)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),tr=(e(1),e(11),new Z({button:document.querySelector("#hamburgerButton"),drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#mainContent")}));window.addEventListener("hashchange",(function(){tr.renderPage()})),window.addEventListener("load",(function(){tr.renderPage(),er()}))}]);